# 재량적 오버라이드 (Discretionary Override)

## 개념

시스템 시그널을 기본으로 따르되, 특정 조건에서 **수동으로 시그널을 무시**하는 하이브리드 접근법.

핵심 철학: "시스템이 평시를 담당하고, 극단적 상황에서는 인간이 판단한다."

---

## 배경: 왜 오버라이드가 필요한가

Phase 2 분석에서 확인된 핵심 문제:

| 위기 유형 | 시스템 대응 | 문제 |
|-----------|------------|------|
| 2000 닷컴 / 2008 GFC (장기 하락) | P5 Regime이 빠르게 탈출 → 최선 | 없음 |
| 2020 COVID / 2025 Liberation Day (V자 반등) | P5 Regime이 너무 늦게 복귀 → 최악 | **vol 한 차원으로 위기 유형 구분 불가** |
| 2022 Bear (긴축 주도) | 중간 성과 | 정책 의도를 시그널로 포착 어려움 |

문제의 근본: **같은 변동성 급등이라도 "곧 반등할 V자"인지 "장기 하락의 시작"인지 시스템이 구분할 수 없다.** 인간은 뉴스, 정책 대응, 경제 컨텍스트를 종합하여 이를 더 정확히 판단할 수 있다.

---

## 오버라이드 규칙

### 규칙 1: V자 확신 오버라이드 (매도 시그널 무시)

**조건**: 급락 후 연준이 긴급 대응을 발표했을 때

| 사례 | 연준 대응 | 시그널 | 오버라이드 |
|------|----------|--------|-----------|
| 2020 COVID | 긴급 금리 인하 + 무제한 QE (3/15-3/23) | 매도 유지 | → 보유 유지 |
| 2025 Liberation Day | 관세 유예 발표 (4/9) | 매도 유지 | → 보유 유지 |
| 2018 Q4 | 파월 피벗 (1/4/2019) | 매도 유지 | → 보유 유지 |

**발동 기준** (사전 정의):
1. NDX가 고점 대비 15%+ 하락
2. Fed가 긴급 금리 인하, QE 확대, 또는 명시적 dovish 전환 발표
3. 크레딧 스프레드(BAA-10Y)가 급등 후 안정화 조짐

**행동**: 시스템이 매도(signal=0)를 내더라도 보유 유지. 단, 추가 매수는 하지 않음.

### 규칙 2: 장기 하락 오버라이드 (매수 시그널 무시)

**조건**: 경기침체 확인 + 기업이익 하락 추세일 때

| 사례 | 펀더멘털 | 시그널 | 오버라이드 |
|------|---------|--------|-----------|
| 2000-2002 닷컴 | 기업이익 급감, IPO 붕괴 | 간헐적 매수 | → 현금 유지 |
| 2007-2009 GFC | 금융기관 파산, 실업 급등 | 간헐적 매수 | → 현금 유지 |

**발동 기준**:
1. NBER이 공식 경기침체를 선언했거나, 2분기 연속 GDP 역성장
2. S&P 500 EPS가 전년 대비 하락 추세
3. 실업률이 최근 저점 대비 0.5%p+ 상승 (Sahm Rule)

**행동**: 시스템이 매수(signal=1)를 내더라도 현금 유지. 경기 바닥 확인 후 복귀.

### 규칙 3: 정책 불확실성 오버라이드 (즉시 탈출)

**조건**: 정책 변수가 시장을 지배할 때 (시스템은 정책을 읽지 못함)

| 사례 | 정책 변수 | 시그널 | 오버라이드 |
|------|----------|--------|-----------|
| 2018 미중 무역전쟁 | 관세 에스컬레이션 | 매수 유지 | → 축소/탈출 |
| 2025 Liberation Day | 전면 관세 발표 | 매수 유지 | → 즉시 탈출 |

**발동 기준**:
1. 예측 불가능한 정책 발표 (관세, 규제, 지정학)
2. 시장 영향이 광범위 (특정 섹터가 아닌 시장 전체)
3. 정책 방향의 불확실성이 높음 (철회/확대 모두 가능)

**행동**: 시그널과 무관하게 포지션 축소 또는 전량 매도. 불확실성 해소 후 시스템 복귀.

---

## 장단점 분석

### 장점
- **위기 유형 구분**: 인간이 V자/L자/정책 주도를 판단할 수 있음
- **컨텍스트 활용**: 뉴스, 정책, 경제지표를 종합적으로 반영
- **적응성**: 과거에 없던 새로운 유형의 위기에도 대응 가능
- **심리적 안정**: "내가 통제할 수 있다"는 느낌 → 시스템을 더 오래 유지

### 단점
- **감정 개입**: 공포/탐욕이 판단을 왜곡 (특히 포트폴리오가 크게 손실 중일 때)
- **일관성 부재**: 같은 조건에서도 기분/스트레스에 따라 다른 판단
- **사후 합리화**: "그때 오버라이드했어야 했는데" → 실시간에서는 명확하지 않음
- **빈도 오류**: 너무 자주 오버라이드하면 사실상 재량 트레이딩이 됨
- **정보 비대칭**: 소매 투자자는 기관보다 정보가 느림

---

## 하이브리드 프로토콜: 사전 정의 + 사후 검증

### 핵심 원칙
오버라이드 조건을 **사전에 문서화**해두고, 해당 조건을 충족할 때만 발동. 감정적 판단이 아닌 체크리스트 기반 의사결정.

### 프로토콜

```
1. 평시: 시스템 시그널 100% 따름 (재량 개입 없음)
2. 위기 감지: NDX 고점 대비 -10% 도달 → "오버라이드 검토 모드" 진입
3. 체크리스트 확인:
   □ 하락 원인이 무엇인가? (밸류에이션 / 경기 / 정책 / 외부 충격)
   □ Fed의 대응은? (긴축 유지 / 관망 / 완화)
   □ 크레딧 시장은? (정상 / 스트레스)
   □ 고용/소비는? (견조 / 둔화)
4. 판단 & 기록:
   - 오버라이드 발동 시 날짜, 이유, 기대 시나리오를 기록
   - 오버라이드 해제 조건도 함께 기록
5. 사후 검증:
   - 분기마다 과거 오버라이드 결정을 복기
   - "시스템만 따랐으면?" 대비 성과 비교
```

### 빈도 제한

- 연간 오버라이드 횟수를 **2회 이하**로 제한
- 3회 이상 오버라이드하고 싶은 해가 있다면, 시스템 자체를 재검토

---

## 구현 방식 (백테스트 시뮬레이션)

시그널에 `override` 컬럼을 추가하여 "만약 내가 개입했으면?" 시뮬레이션:

```python
# override: 0 = 시스템 따름, 1 = 강제 매수(보유), -1 = 강제 매도
def apply_override(signal: pd.Series, override: pd.Series) -> pd.Series:
    result = signal.copy()
    result[override == 1] = 1   # 강제 보유
    result[override == -1] = 0  # 강제 매도
    return result
```

**주의**: 이 시뮬레이션은 "사후적으로 완벽한 판단을 했을 때"의 상한선. 실시간 판단은 이보다 훨씬 부정확할 수 있음.

---

## 결론

재량적 오버라이드는 "시스템의 한계를 인간이 보완한다"는 매력적인 아이디어이지만, **대부분의 투자자에게는 시스템을 그냥 따르는 것이 더 나은 결과**를 가져온다. 오버라이드를 사용하려면 반드시:

1. **사전에** 조건을 문서화할 것
2. **체크리스트** 기반으로 판단할 것
3. **사후 검증**을 통해 오버라이드 실력을 객관적으로 평가할 것
4. **빈도를 제한**하여 시스템의 일관성을 유지할 것
